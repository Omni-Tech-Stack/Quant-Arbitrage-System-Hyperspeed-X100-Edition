{
  "suiteResults": [
    {
      "suiteName": "Unit Tests",
      "success": true,
      "duration": 217,
      "code": 0
    },
    {
      "suiteName": "Feature/Scenario Tests",
      "success": true,
      "duration": 215,
      "code": 0
    }
  ],
  "aggregatedResults": {
    "unit": {
      "summary": {
        "total": 15,
        "passed": 15,
        "failed": 0,
        "successRate": "100.00%"
      },
      "tests": [
        {
          "name": "Health Check - GET /api/health",
          "success": true,
          "duration": 24,
          "error": null,
          "details": {
            "status": "ok",
            "uptime": 3.134747815,
            "timestamp": "2025-10-18T23:16:51.512Z"
          },
          "timestamp": "2025-10-18T23:16:51.517Z"
        },
        {
          "name": "Get Opportunities - GET /api/opportunities",
          "success": true,
          "duration": 2,
          "error": null,
          "details": {
            "count": 0,
            "sample": "No opportunities"
          },
          "timestamp": "2025-10-18T23:16:51.520Z"
        },
        {
          "name": "Get Trades - GET /api/trades",
          "success": true,
          "duration": 3,
          "error": null,
          "details": {
            "count": 0
          },
          "timestamp": "2025-10-18T23:16:51.523Z"
        },
        {
          "name": "Get Trades with Limit - GET /api/trades?limit=10",
          "success": true,
          "duration": 3,
          "error": null,
          "details": {
            "count": 0,
            "requestedLimit": 10
          },
          "timestamp": "2025-10-18T23:16:51.526Z"
        },
        {
          "name": "Get Statistics - GET /api/stats",
          "success": true,
          "duration": 2,
          "error": null,
          "details": {
            "totalTrades": 0,
            "successfulTrades": 0,
            "totalProfit": 0,
            "avgSlippage": 0
          },
          "timestamp": "2025-10-18T23:16:51.528Z"
        },
        {
          "name": "Post Opportunity - POST /api/opportunities",
          "success": true,
          "duration": 9,
          "error": null,
          "details": {
            "id": 1760829411536,
            "opportunityData": {
              "pool1": "UniswapV2",
              "pool2": "SushiSwap",
              "pair": "ETH/USDT",
              "expectedProfit": 125.5,
              "slippage": 0.0045,
              "confidence": 85.5,
              "flashloanAmount": 50000,
              "flashloanFee": "0.0009",
              "marketImpact": 2.3,
              "estimatedGas": 180000
            }
          },
          "timestamp": "2025-10-18T23:16:51.537Z"
        },
        {
          "name": "Post Trade - POST /api/trades",
          "success": true,
          "duration": 2,
          "error": null,
          "details": {
            "id": 1760829411538,
            "tradeData": {
              "opportunityId": 1760829410537,
              "pool1": "UniswapV3",
              "pool2": "Curve",
              "pair": "DAI/USDC",
              "success": true,
              "profit": 87.25,
              "actualSlippage": 0.0032,
              "gasUsed": 165000,
              "flashloanAmount": 45000,
              "flashloanFee": "0.0009",
              "marketImpact": 1.8,
              "executionTime": "1250ms"
            }
          },
          "timestamp": "2025-10-18T23:16:51.539Z"
        },
        {
          "name": "Calculate Flashloan - POST /api/calculate-flashloan",
          "success": true,
          "duration": 2,
          "error": null,
          "details": {
            "success": true,
            "flashloanAmount": 212132.03435596425,
            "flashloanFee": 0.0009,
            "gasCost": 100,
            "profitable": true,
            "timestamp": "2025-10-18T23:16:51.541Z"
          },
          "timestamp": "2025-10-18T23:16:51.541Z"
        },
        {
          "name": "Calculate Market Impact - POST /api/calculate-impact",
          "success": true,
          "duration": 2,
          "error": null,
          "details": {
            "success": true,
            "marketImpact": 5,
            "marketImpactPct": "5.0000%",
            "reserveIn": 1000000,
            "reserveOut": 2000000,
            "tradeAmount": 50000,
            "timestamp": "2025-10-18T23:16:51.543Z"
          },
          "timestamp": "2025-10-18T23:16:51.544Z"
        },
        {
          "name": "Simulate Parallel Paths - POST /api/simulate-paths",
          "success": true,
          "duration": 3,
          "error": null,
          "details": {
            "success": true,
            "results": [
              {
                "pathIndex": 0,
                "profit": -1582.4100651289264,
                "slippage": 4.851366883763084,
                "slippagePct": "4.8514%",
                "isBest": false
              },
              {
                "pathIndex": 1,
                "profit": -1724.1053909796356,
                "slippage": 5.323684636598786,
                "slippagePct": "5.3237%",
                "isBest": false
              },
              {
                "pathIndex": 2,
                "profit": -1443.8324207764854,
                "slippage": 4.389441402588293,
                "slippagePct": "4.3894%",
                "isBest": true
              }
            ],
            "bestPathIndex": 2,
            "bestProfit": -1443.8324207764854,
            "totalPathsSimulated": 3,
            "timestamp": "2025-10-18T23:16:51.546Z"
          },
          "timestamp": "2025-10-18T23:16:51.547Z"
        },
        {
          "name": "Invalid Endpoint - GET /api/invalid",
          "success": true,
          "duration": 4,
          "error": null,
          "details": {
            "status": 404,
            "message": "Endpoint not found (expected)"
          },
          "timestamp": "2025-10-18T23:16:51.552Z"
        },
        {
          "name": "Post Opportunity with Missing Fields - POST /api/opportunities",
          "success": true,
          "duration": 1,
          "error": null,
          "details": {
            "accepted": true,
            "message": "API accepts partial data"
          },
          "timestamp": "2025-10-18T23:16:51.554Z"
        },
        {
          "name": "Concurrent Requests - Multiple GET /api/health",
          "success": true,
          "duration": 17,
          "error": null,
          "details": {
            "requestCount": 10,
            "successCount": 10
          },
          "timestamp": "2025-10-18T23:16:51.572Z"
        },
        {
          "name": "Large Payload - POST /api/opportunities",
          "success": true,
          "duration": 3,
          "error": null,
          "details": {
            "payloadSize": 7367,
            "accepted": true
          },
          "timestamp": "2025-10-18T23:16:51.575Z"
        },
        {
          "name": "Rapid Sequential Requests - POST opportunities",
          "success": true,
          "duration": 27,
          "error": null,
          "details": {
            "requestCount": 20,
            "totalDuration": 27,
            "avgPerRequest": "1.35ms"
          },
          "timestamp": "2025-10-18T23:16:51.602Z"
        }
      ],
      "timestamp": "2025-10-18T23:16:51.604Z",
      "apiBaseUrl": "http://localhost:3001"
    },
    "feature": {
      "summary": {
        "total": 7,
        "passed": 7,
        "failed": 0,
        "successRate": "100.00%"
      },
      "scenarios": [
        {
          "name": "Complete Profitable Arbitrage Workflow",
          "steps": [
            {
              "name": "Detect price difference between DEXs",
              "data": {
                "uniswap": "1.8687",
                "sushiswap": "0.5459"
              },
              "success": true
            },
            {
              "name": "Calculate optimal flashloan amount",
              "data": {
                "success": true,
                "flashloanAmount": 312467.9195846548,
                "flashloanFee": 0.0009,
                "gasCost": 150,
                "profitable": true,
                "timestamp": "2025-10-18T23:16:51.736Z"
              },
              "success": true
            },
            {
              "name": "Calculate market impact",
              "data": {
                "success": true,
                "marketImpact": 3.2811686147139723,
                "marketImpactPct": "3.2812%",
                "reserveIn": 1523847.32,
                "reserveOut": 2847651.89,
                "tradeAmount": 50000,
                "timestamp": "2025-10-18T23:16:51.743Z"
              },
              "success": true
            },
            {
              "name": "Create opportunity",
              "data": {
                "id": 1760829411745
              },
              "success": true
            },
            {
              "name": "Execute trade",
              "data": {
                "id": 1760829411747,
                "profit": 238.12
              },
              "success": true
            },
            {
              "name": "Verify statistics updated",
              "data": {
                "totalTrades": 2,
                "successfulTrades": 2,
                "totalProfit": 325.37,
                "avgSlippage": 0
              },
              "success": true
            }
          ],
          "success": true,
          "duration": 36,
          "error": null,
          "timestamp": "2025-10-18T23:16:51.751Z"
        },
        {
          "name": "Unprofitable Opportunity Detection",
          "steps": [
            {
              "name": "Calculate flashloan for equal prices",
              "data": {
                "success": true,
                "flashloanAmount": 0,
                "flashloanFee": 0.0009,
                "gasCost": 150,
                "profitable": false,
                "timestamp": "2025-10-18T23:16:51.753Z"
              },
              "success": true
            },
            {
              "name": "Create unprofitable opportunity",
              "data": {
                "id": 1760829411755
              },
              "success": true
            },
            {
              "name": "Record failed trade",
              "data": {
                "id": 1760829411757
              },
              "success": true
            }
          ],
          "success": true,
          "duration": 6,
          "error": null,
          "timestamp": "2025-10-18T23:16:51.757Z"
        },
        {
          "name": "Multi-Path Arbitrage Analysis",
          "steps": [
            {
              "name": "Simulate parallel paths",
              "data": {
                "success": true,
                "results": [
                  {
                    "pathIndex": 0,
                    "profit": -2407.9056649292324,
                    "slippage": 4.9275681442871715,
                    "slippagePct": "4.9276%",
                    "isBest": false
                  },
                  {
                    "pathIndex": 1,
                    "profit": -2137.984050064253,
                    "slippage": 4.272186777920566,
                    "slippagePct": "4.2722%",
                    "isBest": false
                  },
                  {
                    "pathIndex": 2,
                    "profit": -200.0306090158913,
                    "slippage": 1.440450794563735,
                    "slippagePct": "1.4405%",
                    "isBest": true
                  }
                ],
                "bestPathIndex": 2,
                "bestProfit": -200.0306090158913,
                "totalPathsSimulated": 3,
                "timestamp": "2025-10-18T23:16:51.759Z"
              },
              "success": true
            },
            {
              "name": "Select best path",
              "data": {
                "pathIndex": 2,
                "id": 1760829411761
              },
              "success": true
            },
            {
              "name": "Execute multi-hop trade",
              "data": {
                "id": 1760829411763,
                "hops": 2
              },
              "success": true
            }
          ],
          "success": true,
          "duration": 6,
          "error": null,
          "timestamp": "2025-10-18T23:16:51.764Z"
        },
        {
          "name": "High-Frequency Trading Simulation",
          "steps": [
            {
              "name": "Create 10 rapid opportunities",
              "data": {
                "count": 10
              },
              "success": true
            },
            {
              "name": "Execute 10 rapid trades",
              "data": {
                "count": 10
              },
              "success": true
            },
            {
              "name": "Verify all trades recorded",
              "data": {
                "totalTrades": 14
              },
              "success": true
            }
          ],
          "success": true,
          "duration": 36,
          "error": null,
          "timestamp": "2025-10-18T23:16:51.800Z"
        },
        {
          "name": "Stablecoin Arbitrage (Low Slippage)",
          "steps": [
            {
              "name": "Calculate stablecoin market impact",
              "data": {
                "success": true,
                "marketImpact": 9.551886812953343,
                "marketImpactPct": "9.5519%",
                "reserveIn": 5234567.89,
                "reserveOut": 5189234.21,
                "tradeAmount": 500000,
                "timestamp": "2025-10-18T23:16:51.801Z"
              },
              "success": true
            },
            {
              "name": "Create stablecoin opportunity",
              "data": {
                "id": 1760829411803
              },
              "success": true
            },
            {
              "name": "Execute low-slippage stablecoin trade",
              "data": {
                "id": 1760829411804,
                "profit": 51.89,
                "slippage": 0.0009
              },
              "success": true
            }
          ],
          "success": true,
          "duration": 5,
          "error": null,
          "timestamp": "2025-10-18T23:16:51.805Z"
        },
        {
          "name": "MEV Bundle Submission Workflow",
          "steps": [
            {
              "name": "Create MEV bundle opportunities",
              "data": {
                "count": 3,
                "bundleId": "bundle-123"
              },
              "success": true
            },
            {
              "name": "Execute MEV bundle",
              "data": {
                "tradeCount": 3,
                "totalDuration": "3ms"
              },
              "success": true
            },
            {
              "name": "Verify bundle stats",
              "data": {
                "totalTrades": 18
              },
              "success": true
            }
          ],
          "success": true,
          "duration": 9,
          "error": null,
          "timestamp": "2025-10-18T23:16:51.814Z"
        },
        {
          "name": "Market Condition Change Response",
          "steps": [
            {
              "name": "Detect opportunity under favorable conditions",
              "data": {
                "id": 1760829411815
              },
              "success": true
            },
            {
              "name": "Recalculate after market change",
              "data": {
                "success": true,
                "flashloanAmount": 304259.2730715039,
                "flashloanFee": 0.0009,
                "gasCost": 150,
                "profitable": true,
                "timestamp": "2025-10-18T23:16:51.816Z"
              },
              "success": true
            },
            {
              "name": "Cancel trade due to market change",
              "data": {
                "reason": "Market conditions changed"
              },
              "success": true
            }
          ],
          "success": true,
          "duration": 4,
          "error": null,
          "timestamp": "2025-10-18T23:16:51.818Z"
        }
      ],
      "timestamp": "2025-10-18T23:16:51.819Z",
      "apiBaseUrl": "http://localhost:3001"
    }
  },
  "timestamp": "2025-10-18T23:16:51.827Z",
  "apiBaseUrl": "http://localhost:3001",
  "allPassed": true
}